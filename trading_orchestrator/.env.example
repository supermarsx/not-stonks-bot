# Day Trading Orchestrator System - Environment Configuration
# Copy this file to .env and fill in your values
# NEVER commit .env to version control

# ============================================================================
# APPLICATION SETTINGS
# ============================================================================

ENVIRONMENT=development  # development, staging, production, testing
DEBUG=false
LOG_LEVEL=INFO  # DEBUG, INFO, WARNING, ERROR, CRITICAL

# ============================================================================
# API SETTINGS
# ============================================================================

API_HOST=0.0.0.0
API_PORT=8000
API_WORKERS=4

# ============================================================================
# DATABASE SETTINGS
# ============================================================================

# SQLite (Default - Embedded Database)
DB_TYPE=sqlite
DB_PATH=./trading_orchestrator.db

# PostgreSQL (Production - Uncomment and configure)
# DB_TYPE=postgresql
# DB_HOST=localhost
# DB_PORT=5432
# DB_NAME=trading_orchestrator
# DB_USER=your_db_user
# DB_PASSWORD=your_db_password
# DB_POOL_SIZE=10
# DB_MAX_OVERFLOW=20

# ============================================================================
# SECURITY SETTINGS
# ============================================================================

# IMPORTANT: Change these in production!
SECRET_KEY=change-this-secret-key-in-production-minimum-32-characters
JWT_ALGORITHM=HS256
JWT_EXPIRATION_HOURS=24

# Encryption key for API credentials (must be 32 characters for AES-256)
ENCRYPTION_KEY=change-this-encryption-key-32-chars-exactly

# ============================================================================
# BROKER API CREDENTIALS
# ============================================================================

# -----------------
# Binance
# -----------------
# Get API keys: https://www.binance.com/en/support/faq/how-to-create-api-360002502072
# Testnet: https://testnet.binance.vision/
BINANCE_API_KEY=your_binance_api_key_here
BINANCE_API_SECRET=your_binance_api_secret_here
BINANCE_TESTNET=true  # true for testnet, false for mainnet

# -----------------
# Interactive Brokers (IBKR)
# -----------------
# Documentation: https://www.interactivebrokers.com/api/
# TWS/Gateway must be running and configured to accept API connections
IBKR_HOST=127.0.0.1
IBKR_PORT=7497  # 7497 for paper trading, 7496 for live trading
IBKR_CLIENT_ID=1  # Unique client ID (1-32)

# -----------------
# Alpaca
# -----------------
# Get API keys: https://app.alpaca.markets/
# Paper trading: https://paper-api.alpaca.markets/
ALPACA_API_KEY=your_alpaca_api_key_here
ALPACA_API_SECRET=your_alpaca_api_secret_here
ALPACA_PAPER=true  # true for paper trading, false for live

# -----------------
# Trading 212
# -----------------
# Get API key: https://helpcentre.trading212.com/hc/en-us/articles/14584770928157
# Note: Beta API with limited features in live mode
TRADING212_API_KEY=your_trading212_api_key_here
TRADING212_PRACTICE=true  # true for practice mode, false for live

# ============================================================================
# RISK MANAGEMENT SETTINGS
# ============================================================================

MAX_POSITION_SIZE=10000.0  # Maximum position size in USD
MAX_DAILY_LOSS=1000.0  # Maximum daily loss before circuit breaker
MAX_OPEN_ORDERS=50  # Maximum number of concurrent open orders
RISK_PER_TRADE=0.02  # Risk per trade as decimal (0.02 = 2%)

# ============================================================================
# RATE LIMITING
# ============================================================================

RATE_LIMIT_ENABLED=true
RATE_LIMIT_REQUESTS=100  # Maximum requests
RATE_LIMIT_PERIOD=60  # Time period in seconds

# ============================================================================
# WEBSOCKET SETTINGS
# ============================================================================

WS_HEARTBEAT_INTERVAL=30  # Seconds between heartbeats
WS_RECONNECT_DELAY=5  # Seconds to wait before reconnection
WS_MAX_RECONNECT_ATTEMPTS=10  # Maximum reconnection attempts

# ============================================================================
# AI/LLM SETTINGS
# ============================================================================

AI_PROVIDER=openai  # openai, anthropic, or custom
AI_MODEL_ROUTING_ENABLED=true  # Enable automatic model selection
AI_MAX_TOKENS=4000  # Maximum tokens per request

# OpenAI
# Get API key: https://platform.openai.com/api-keys
OPENAI_API_KEY=your_openai_api_key_here

# Anthropic Claude
# Get API key: https://console.anthropic.com/
ANTHROPIC_API_KEY=your_anthropic_api_key_here

# ============================================================================
# MONITORING & LOGGING
# ============================================================================

ENABLE_METRICS=true  # Enable Prometheus metrics
METRICS_PORT=9090  # Prometheus metrics port

LOG_FILE_PATH=./logs/trading_orchestrator.log
LOG_ROTATION=1 day  # Rotation interval
LOG_RETENTION=30 days  # How long to keep logs

# ============================================================================
# NOTES
# ============================================================================

# Broker API Warnings:
# - XTB: API discontinued as of March 14, 2025 - DO NOT USE
# - DEGIRO: No official API, legal risks - DO NOT USE
# - Trade Republic: No official API, contractual violations - DO NOT USE
#
# For detailed warnings, see docs/BROKER_WARNINGS.md
#
# Recommended Official Brokers:
# - Binance (crypto)
# - Interactive Brokers (multi-asset, professional)
# - Alpaca (US equities, developer-friendly)
# - Trading 212 (beta API, limited features)
