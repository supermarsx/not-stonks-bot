{
  "$schema": "https://schema.trading-orchestrator.dev/config/v1",
  "database": {
    "path": "./data/trading.db",
    "backup_enabled": true,
    "backup_interval_hours": 24,
    "backup_retention_days": 30,
    "connection_pool_size": 10,
    "timeout_seconds": 30,
    "journal_mode": "WAL",
    "synchronous": "NORMAL",
    "cache_size": -64000,
    "temp_store": "memory"
  },
  "brokers": {
    "enabled": ["alpaca", "binance"],
    "alpaca": {
      "api_key": "${ALPACA_API_KEY}",
      "secret_key": "${ALPACA_SECRET_KEY}",
      "api_url": "https://paper-api.alpaca.markets",
      "data_url": "https://data.alpaca.markets",
      "sandbox": true,
      "rate_limit": {
        "requests_per_minute": 200,
        "requests_per_day": 10000
      },
      "order_types": ["market", "limit", "stop", "stop_limit"],
      "supported_assets": ["stocks", "etfs", "crypto"],
      "websocket_enabled": true,
      "connection_timeout": 10
    },
    "binance": {
      "api_key": "${BINANCE_API_KEY}",
      "secret_key": "${BINANCE_SECRET_KEY}",
      "api_url": "https://api.binance.com",
      "testnet": true,
      "rate_limit": {
        "orders_per_second": 10,
        "orders_per_day": 100000,
        "weight_per_minute": 1200
      },
      "supported_assets": ["spot", "futures"],
      "websocket_enabled": true,
      "connection_timeout": 10
    },
    "interactive_brokers": {
      "host": "${IB_HOST}",
      "port": ${IB_PORT},
      "client_id": ${IB_CLIENT_ID},
      "enabled": false
    },
    "paper_trading": {
      "enabled": true,
      "initial_balance": 100000,
      "commission_per_trade": 0.0,
      "slippage_model": "fixed",
      "slippage_bps": 1
    }
  },
  "strategies": {
    "enabled": ["moving_average_crossover", "rsi_reversal"],
    "moving_average_crossover": {
      "enabled": true,
      "symbols": ["AAPL", "GOOGL", "MSFT", "TSLA"],
      "timeframe": "1h",
      "position_size": 0.1,
      "short_ma_period": 10,
      "long_ma_period": 30,
      "stop_loss": {
        "percentage": 5.0,
        "type": "percentage"
      },
      "take_profit": {
        "percentage": 15.0,
        "type": "percentage"
      },
      "max_positions": 5,
      "rebalance_frequency": "daily",
      "risk_per_trade": 0.02
    },
    "rsi_reversal": {
      "enabled": true,
      "symbols": ["AAPL", "GOOGL", "MSFT", "TSLA", "AMZN"],
      "timeframe": "4h",
      "position_size": 0.05,
      "rsi_period": 14,
      "oversold_threshold": 30,
      "overbought_threshold": 70,
      "stop_loss": {
        "percentage": 3.0,
        "type": "percentage"
      },
      "take_profit": {
        "percentage": 8.0,
        "type": "percentage"
      },
      "max_positions": 10,
      "confirm_candles": 2,
      "risk_per_trade": 0.015
    },
    "momentum_breakout": {
      "enabled": false,
      "symbols": ["AAPL", "GOOGL", "MSFT"],
      "timeframe": "15m",
      "position_size": 0.08,
      "volume_threshold": 1.5,
      "price_change_threshold": 0.02,
      "stop_loss": {
        "percentage": 4.0,
        "type": "percentage"
      },
      "take_profit": {
        "percentage": 12.0,
        "type": "percentage"
      },
      "max_positions": 3
    }
  },
  "risk_management": {
    "max_position_size": 0.25,
    "max_concurrent_positions": 20,
    "max_daily_loss": 0.05,
    "max_drawdown": 0.15,
    "position_sizing_method": "fixed_risk",
    "correlation_limit": 0.7,
    "sector_exposure_limit": 0.4,
    "stop_loss_default": {
      "percentage": 5.0,
      "type": "percentage"
    },
    "take_profit_default": {
      "percentage": 10.0,
      "type": "percentage"
    },
    "risk_free_rate": 0.02,
    "max_leverage": 2.0
  },
  "system": {
    "debug_mode": false,
    "log_level": "INFO",
    "log_format": "%(asctime)s - %(name)s - %(levelname)s - %(funcName)s:%(lineno)d - %(message)s",
    "log_file": "./logs/trading.log",
    "max_log_size_mb": 100,
    "log_backup_count": 5,
    "thread_pool_size": 8,
    "max_memory_mb": 2048,
    "graceful_shutdown_timeout": 30,
    "health_check_interval": 60,
    "performance_monitoring": true,
    "metrics_retention_hours": 168
  },
  "logging": {
    "version": 1,
    "disable_existing_loggers": false,
    "formatters": {
      "standard": {
        "format": "%(asctime)s [%(levelname)8s] %(name)s: %(message)s"
      },
      "detailed": {
        "format": "%(asctime)s [%(levelname)8s] %(name)s:%(lineno)d - %(funcName)s() - %(message)s"
      }
    },
    "handlers": {
      "console": {
        "class": "logging.StreamHandler",
        "level": "INFO",
        "formatter": "standard",
        "stream": "ext://sys.stdout"
      },
      "file": {
        "class": "logging.handlers.RotatingFileHandler",
        "level": "DEBUG",
        "formatter": "detailed",
        "filename": "./logs/trading.log",
        "maxBytes": 10485760,
        "backupCount": 5,
        "encoding": "utf8"
      },
      "error_file": {
        "class": "logging.handlers.RotatingFileHandler",
        "level": "ERROR",
        "formatter": "detailed",
        "filename": "./logs/errors.log",
        "maxBytes": 10485760,
        "backupCount": 3,
        "encoding": "utf8"
      }
    },
    "loggers": {
      "trading_orchestrator": {
        "level": "INFO",
        "handlers": ["console", "file"],
        "propagate": false
      },
      "database": {
        "level": "WARNING",
        "handlers": ["file"],
        "propagate": false
      },
      "brokers": {
        "level": "INFO",
        "handlers": ["file"],
        "propagate": false
      },
      "strategies": {
        "level": "INFO",
        "handlers": ["file"],
        "propagate": false
      }
    },
    "root": {
      "level": "WARNING",
      "handlers": ["console", "file"]
    }
  },
  "performance": {
    "enable_profiling": false,
    "profiling_output": "./profiles",
    "benchmark_enabled": true,
    "benchmark_interval_seconds": 300,
    "memory_profiling": false,
    "cpu_profiling": false,
    "optimization_level": "balanced"
  },
  "ai": {
    "enabled": true,
    "model_path": "./models",
    "sentiment_analysis": {
      "enabled": true,
      "news_sources": ["reuters", "bloomberg", "marketwatch"],
      "update_frequency_minutes": 15
    },
    "pattern_recognition": {
      "enabled": true,
      "min_confidence": 0.7,
      "patterns": ["head_shoulders", "double_top", "triangle", "flag"]
    },
    "market_regime_detection": {
      "enabled": true,
      "lookback_period_days": 30,
      "regime_types": ["bull", "bear", "sideways", "volatile"]
    },
    "risk_scoring": {
      "enabled": true,
      "factors": ["volatility", "correlation", "liquidity", "sentiment"],
      "weightings": {
        "volatility": 0.3,
        "correlation": 0.2,
        "liquidity": 0.2,
        "sentiment": 0.3
      }
    }
  },
  "notifications": {
    "enabled": true,
    "email": {
      "enabled": false,
      "smtp_server": "${SMTP_SERVER}",
      "smtp_port": 587,
      "username": "${EMAIL_USERNAME}",
      "password": "${EMAIL_PASSWORD}",
      "from_address": "${NOTIFICATION_EMAIL}",
      "to_addresses": ["${NOTIFICATION_EMAIL}"],
      "use_tls": true
    },
    "slack": {
      "enabled": false,
      "webhook_url": "${SLACK_WEBHOOK}",
      "channel": "#trading-alerts",
      "username": "TradingBot"
    },
    "events": {
      "trade_executed": true,
      "stop_loss_triggered": true,
      "take_profit_reached": true,
      "strategy_error": true,
      "system_error": true,
      "daily_summary": true,
      "performance_alert": true
    }
  },
  "backtesting": {
    "enabled": true,
    "data_source": "local",
    "data_path": "./data/historical",
    "default_timeframe": "1d",
    "slippage_bps": 1,
    "commission_bps": 1,
    "start_date": "2020-01-01",
    "end_date": "2024-12-19",
    "initial_capital": 100000,
    "currency": "USD",
    "benchmark_symbol": "SPY",
    "save_trades": true,
    "save_positions": true,
    "output_format": "json"
  },
  "monitoring": {
    "enabled": true,
    "health_checks": {
      "database_connection": true,
      "broker_connections": true,
      "strategy_health": true,
      "memory_usage": true,
      "disk_usage": true
    },
    "alerts": {
      "memory_threshold_percent": 80,
      "disk_threshold_percent": 90,
      "cpu_threshold_percent": 85,
      "error_rate_threshold": 0.05
    },
    "metrics": {
      "collection_interval_seconds": 60,
      "retention_hours": 720,
      "export_enabled": true,
      "export_format": "prometheus"
    }
  },
  "security": {
    "encrypt_secrets": true,
    "secret_rotation_days": 90,
    "api_key_rotation_days": 30,
    "audit_logging": true,
    "rate_limiting": true,
    "ip_whitelist": [],
    "session_timeout_minutes": 60
  },
  "environment": {
    "name": "production",
    "debug": false,
    "testing": false,
    "staging": false
  }
}
